<div class="overlay">
  <div class="panel">
    <h3 class="title">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 7a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V7Z" stroke="#7a57ff" stroke-width="1.6"/><path d="M3 9h18" stroke="#7a57ff" stroke-width="1.6"/><rect x="6.5" y="13" width="5" height="2.8" rx="1.4" fill="#7a57ff"/></svg>
      Añadir saldo
    </h3>
    <p class="muted">Pago seguro con Stripe: elige un pack, introduce la tarjeta y confirma.</p>
    <div class="sep" aria-hidden="true"></div>

    <div class="options">
      <label class="chip" [class.active]="amount===10">
        <input type="radio" name="opt" [checked]="amount===10" (change)="onAmountChange(10)">
        <span>10 canciones — 10€</span>
      </label>
      <label class="chip" [class.active]="amount===20">
        <input type="radio" name="opt" [checked]="amount===20" (change)="onAmountChange(20)">
        <span>20 canciones — 15€</span>
      </label>
    </div>

    <div class="actions">
      <button class="btn primary" (click)="confirmPayment()" [disabled]="!clientSecret || loading">Confirmar pago</button>
      <button class="btn ghost" (click)="close()">Cerrar</button>
    </div>

    <div *ngIf="clientSecret" class="stripe">
      <div id="card-element" class="card"></div>
      <p class="muted">Introduce una tarjeta de prueba (por ejemplo, Visa 4242 4242 4242 4242)</p>
    </div>
  </div>
</div>
